
			var havePointerLock = 'pointerLockElement' in document || 'mozPointerLockElement' in document || 'webkitPointerLockElement' in document;

			if ( havePointerLock ) {

				var pointerlockchange = function ( event ) {
					console.log('lock change',event);
				}

				var pointerlockerror = function ( event ) {
					console.log('pointer error',event);
				}

				// Hook pointer lock state change events
				document.addEventListener( 'pointerlockchange', pointerlockchange, false );
				document.addEventListener( 'mozpointerlockchange', pointerlockchange, false );
				document.addEventListener( 'webkitpointerlockchange', pointerlockchange, false );

				document.addEventListener( 'pointerlockerror', pointerlockerror, false );
				document.addEventListener( 'mozpointerlockerror', pointerlockerror, false );
				document.addEventListener( 'webkitpointerlockerror', pointerlockerror, false );

				node.addEventListener( 'click', function ( event ) {

					// Ask the browser to lock the pointer
					node.requestPointerLock = node.requestPointerLock || node.mozRequestPointerLock || node.webkitRequestPointerLock;

					if ( /Firefox/i.test( navigator.userAgent ) ) {

						var fullscreenchange = function ( event ) {

							if ( document.fullscreenElement === node || document.mozFullscreenElement === node || document.mozFullScreenElement === node ) {

								document.removeEventListener( 'fullscreenchange', fullscreenchange );
								document.removeEventListener( 'mozfullscreenchange', fullscreenchange );

								node.requestPointerLock();
							}

						}

						document.addEventListener( 'fullscreenchange', fullscreenchange, false );
						document.addEventListener( 'mozfullscreenchange', fullscreenchange, false );

						node.requestFullscreen = node.requestFullscreen || node.mozRequestFullscreen || node.mozRequestFullScreen || node.webkitRequestFullscreen;

						node.requestFullscreen();

					} else {

						node.requestPointerLock();

					}

				}, false );

			} else {

				node.innerHTML = 'Your browser doesn\'t seem to support Pointer Lock API';

			}


