<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for lib/dash.js</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="../prettify.css">

    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Helvetica Neue, Helvetica,Arial;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 10em;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Consolas, Menlo, Monaco, monospace;
            margin: 0;
            padding: 0;
            line-height: 14px;
            font-size: 14px;
            -moz-tab-size: 2;
            -o-tab-size:  2;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }
        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
            xtext-decoration: line-through;
        }
        .missing-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { text-decoration: none; color: #000; }
        div.coverage-summary a:visited { text-decoration: none; color: #333; }
        div.coverage-summary a:hover { text-decoration: underline; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: url("http://yui.yahooapis.com/3.6.0/build/datatable-sort/assets/skins/sam/sort-arrow-sprite.png") no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">lib/dash.js</span></h1>
    <h2>
        
        Statements: <span class="metric">88.81% <small>(365 / 411)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">70.55% <small>(206 / 292)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">92.86% <small>(117 / 126)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(29 / 29)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">lib/</a> &#187; dash.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</td><td class="line-coverage"><span class="cline-any cline-yes">1225</span>
<span class="cline-any cline-yes">7080</span>
<span class="cline-any cline-yes">810</span>
<span class="cline-any cline-yes">4253</span>
<span class="cline-any cline-yes">1787</span>
<span class="cline-any cline-yes">441</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">74</span>
<span class="cline-any cline-yes">441</span>
<span class="cline-any cline-yes">29</span>
<span class="cline-any cline-yes">19</span>
<span class="cline-any cline-yes">28</span>
<span class="cline-any cline-yes">23</span>
<span class="cline-any cline-yes">21</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-yes">7</span>
<span class="cline-any cline-yes">7</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">172</span>
<span class="cline-any cline-yes">123</span>
<span class="cline-any cline-yes">97</span>
<span class="cline-any cline-yes">679</span>
<span class="cline-any cline-yes">23</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var dash=function(){var b={dbs:{},database:{},databases:{},store:{},stores:{},index:{},indexes:{},range:{},object:{},objects:{},transaction:{},kr:window.IDBKeyRange,clone:functi<span class="missing-if-branch" title="if path not taken"" >I</span>on(a){var c={};if(b.isNumber(a))<span class="cstat-no" title="statement not covered" >return <span class="missing-if-branch" title="if path not taken"" >I</span>parseInt(a,10);i</span>f(b.isArray(a))<span class="cstat-no" title="statement not covered" >return a.slice(0);b</span>.safeIterate(a,function(a,d){!b.isObject(d)||<span class="branch-1 cbranch-no" title="branch not covered" >b.isFunction(d)|</span>|<span class="branch-2 cbranch-no" title="branch not covered" >b.isArray(d)?</span>c[a]=d:<span class="branch-1 cbranch-no" title="branch not covered" >c[a]=b.clone(d)}</span>);return c},isEmpty:function(a){return b.isnt(a,void 0)&amp;&amp;b.isnt(a,null)&amp;&amp;b.isnt(a,"")&amp;&amp;(!b.isArray(a)||0&lt;a.length)?!1:!0},exists:function(a){return b.isEmpty(a)?
!1:!0},contains:function(a,c,e){var d=!1;b.exists(a)&amp;&amp;b.safeIterate(a,function(a,g){if(b.is(e,!0)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.is(a,c)|</span>|b.is(g,c))d=!0});return d},hasPath:function(a,c){var e=c.split("."),d=e.shift();if(b.isEmpty(a))return!1;for(;d;){if(b.isEmpty(a[d]))return!1;a=a[d];d=e.shift()}return!0},is:function(b,c){return c===b},isnt:function(b,c){return c!==b},isObject:function(a){return b.isnt(a,null)&amp;&amp;b.isType("object",a)&amp;&amp;b.is("[object Object]",a.toString())},isString:function(a){return b.isType("string",a)},isFunction:function(a){return b.isType("function",
a)},isTransaction:function(b){return b instanceof IDBTransaction?!0:<span class="branch-1 cbranch-no" title="branch not covered" >!1}</span>,isDatabase:function(b){return b instanceof IDBDatabase?!0:!1},isCursorWithValue:function(b){return b instanceof IDBCursorWithValue?!0:!1},isOpenRequest:function(b){return b instanceof IDBOpenDBRequest?!0:!1},transactionIsAtLeast:function(a,c){return b.is(a,b.transaction.versionChange)?<span class="branch-0 cbranch-no" title="branch not covered" >!0:</span>b.is(a,b.transaction.readWrite)?b.is(c,b.transaction.versionChange)?<span class="branch-0 cbranch-no" title="branch not covered" >!1:</span>!0:<span class="branch-1 cbranch-no" title="branch not covered" >b.is(c,b.transaction.read)?!0:!1}</span>,isArray:function(b){var c=!1;if(b instanceof
Array||b instanceof DOMStringList)c=!0;return c},isNumber:function(a){return b.isType("number",a)||b.is(isNaN(parseInt(a,10),!1))?<span class="branch-0 cbranch-no" title="branch not covered" >!0:</span>!1},isBoolean:function(a){return b.isType("boolean",a)||b.is(a,"true")||b.is(a,"false")?!0:!1},isType:function(a,c){return b.is(a,typeof c)},extend:function(a,c,e){a=a||<span class="branch-1 cbranch-no" title="branch not covered" >{};</span>b.safeIterate(b.clone(c),function(c,f){b.is(!0,e)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.isObject(f)?<span class="branch-0 cbranch-no" title="branch not covered" ></span>a[c]=b.extend({},f,e):</span>a[c]=f});return a},safeIterate:function(b,c){for(var e in b)b.hasOwnProperty(e)&amp;&amp;c(e,b[e])},safeEach:function(a,
c,e){var d=a.length,f=1;!0===e&amp;&amp;(<span class="branch-1 cbranch-no" title="branch not covered" >f=-f)</span>;for(e=0;e&lt;d;e+=f)b.safeApply(c,[e,a[e]])},safeApply:function(a,c,e,d){if(b.isFunction(a))return a.apply(e||b,c||<span class="branch-1 cbranch-no" title="branch not covered" >[])</span>;<span class="missing-if-branch" title="if path not taken"" >I</span>if(b.isFunction(d))<span class="cstat-no" title="statement not covered" >return b.safeApply(d,[])}</span>,standardCallbackNames:"on_success on_error on_abort on_blocked on_upgrade_needed on_close on_complete".split(" ")};b.safeEach(b.standardCallbackNames,function(a,c){b[c.replace(/^on_/g,"")]=function(a){b.safeApply(a[c],[a]);return a}});b.standardRequest=function(a){var c=a.request,e={};a=b.standardCallbacks(a);
b.exists(c)&amp;&amp;b.is(c.readyState,"done")&amp;&amp;(a.result=b.objectResult(a),b.success(a));b.safeEach(b.standardCallbackNames,function(b,c){e[c.replace(/_/g,"")]=a[c]});a.request=b.extend(c,e);return a};b.standardCursor=function(a,c){var e=0,d=<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>a.event=b;<span class="cstat-no" title="statement not covered" >r</span>eturn a}</span>,f=a.on_success,g=a.on_error,l=a.on_abort,h=a.on_complete,m;a.direction=a.direction||b.objects.next();a.range=a.range||b.range.get(a);a.type=b.transaction.readWrite;a.entries=[];a.transaction=b.transaction.create(a);a.objectstore=a.transaction.objectStore(a.store);
a.data=b.isFunction(a.data)?<span class="branch-0 cbranch-no" title="branch not covered" >a.data():</span>b.clone(a.data);try{b.isEmpty(a.index)?<span class="branch-0 cbranch-no" title="branch not covered" >a.request=a.objectstore.openCursor(a.range,a.direction):</span>(a.idx=a.objectstore.index(a.index),a.request=a.idx.openCursor(a.range,a.direction)),b.standardRequest(b.extend(a,{on_success:function(d){var k=function(){e+=1;<span class="missing-if-branch" title="if path not taken"" >I</span>if(b.isNumber(d.limit)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >e&gt;=d.limit)<span class="cstat-no" title="statement not covered" ></span>b.complete(d);e</span>lse if(b.exists(d.cursor))<span class="missing-if-branch" title="if path not taken"" >I</span>if(b.exists(d.skip_each))<span class="cstat-no" title="statement not covered" >try{<span class="cstat-no" title="statement not covered" >d.cursor.advance(a.skip_each)}</span>catch(c){<span class="cstat-no" title="statement not covered" >d.error=c,b.error(d)}</span>e</span>lse <span class="missing-if-branch" title="else path not taken"" >E</span>if(b.isFunction(d.cursor["continue"])){d.request.source.objectStore.transaction.oncomplete=
function(a){d.event=a;d.on_complete=h;b.complete(d)};try{d.cursor["continue"]()}catch(f){<span class="cstat-no" title="statement not covered" >d.on_complete=h,b.complete(d)}</span>}else <span class="cstat-no" title="statement not covered" >d.on_complete=h,b.complete(d);e</span>lse d.on_complete=h,b.complete(d)};d.flagged=!1;d.cursor=d.request.result;d.result=b.exists(d.cursor)?d.cursor.value:null;if(b.isCursorWithValue(d.cursor))a.entries.push(d.cursor.value);else return k(d);b.exists(d.expecting)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.safeIterate(d.expecting,<span class="fstat-no" title="function not covered" >function(a,e){<span class="cstat-no" title="statement not covered" ></span>var c=b.hasPath(d.result,a)?d.result[a]:null;<span class="cstat-no" title="statement not covered" >b</span>.isFunction(e)&amp;&amp;(e=e(c));<span class="cstat-no" title="statement not covered" >b</span>.exists(c)&amp;&amp;</span></span>
b.exists(e)&amp;&amp;b.isnt(c,e)&amp;&amp;(d.flagged=!0)});<span class="missing-if-branch" title="else path not taken"" >E</span>if(b.is(d.flagged,!1)&amp;&amp;b.exists(d.cursor)&amp;&amp;b.exists(d.result)){d.data=b.is(d.replace,!0)?<span class="branch-0 cbranch-no" title="branch not covered" >d.result:</span>b.extend(d.result,d.data);try{m=c(d),b.exists(m)?(d.on_success=function(a){d.event=a;k(d);d.on_success=f;b.success(d)},d.on_error=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>d.event=a;<span class="cstat-no" title="statement not covered" >k</span>(d);<span class="cstat-no" title="statement not covered" >d</span>.on_error=g;<span class="cstat-no" title="statement not covered" >b</span>.error(d)}</span>,b.standardRequest(d)):k(d)}catch(q){<span class="cstat-no" title="statement not covered" >d.error=q,d.on_error=g,b.error(a)}</span>}else <span class="cstat-no" title="statement not covered" >d.on_error=g,b.error(d)}</span>,on_error:<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>a.on_error=g;<span class="cstat-no" title="statement not covered" >b</span>.error(d(e))}</span>,on_abort:<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>a.on_error=</span>
l;<span class="cstat-no" title="statement not covered" >return b.abort(d(e))}</span>}))}catch(k){<span class="cstat-no" title="statement not covered" >a.error=k,b.error(a)}</span>};b.objectResult=function(a){var c=a.event,e=null;if(b.isOpenRequest(a.request))return null;b.hasPath(c,"target.result.value")?e=c.target.result.value:b.hasPath(c,"target.result")?e=c.target.result:b.hasPath(c,"result")?<span class="branch-0 cbranch-no" title="branch not covered" >e=c.result:</span>b.hasPath(c,"request.result")&amp;&amp;(<span class="branch-1 cbranch-no" title="branch not covered" >e=c.request.result)</span>;return e};b.standardCallbacks=function(a){var c={},e=function(e){a.event=e;a.transaction=a.request?a.request.transaction:e.target.transaction;a.result=b.objectResult(a);
b.exists(a.transaction)&amp;&amp;b.exists(a.transaction.db)&amp;&amp;(a.db=a.transaction.db);b.exists(e.newVersion)?(a.new_version=e.newVersion,a.old_version=e.oldVersion,b.isnt(a.old_version,a.new_version)?a.upgrade=!0:<span class="branch-1 cbranch-no" title="branch not covered" >a.upgrade=!1)</span>:a.upgrade=!1;return a};b.safeEach(b.standardCallbackNames,function(d,f){c[f]=function(){return function(d){b.safeApply(a[f],[e(d)])}}()});return c};b.safeRequest=function(a,c,e){c=c||<span class="branch-1 cbranch-no" title="branch not covered" >{};</span>b.isEmpty(c.transaction)&amp;&amp;(c.transaction=b.transaction.create(c));b.exists(c.transaction)&amp;&amp;(c.objectstore=
b.maybeAttachStore(c));try{c=a(c),b.isnt(e,!1)&amp;&amp;b.standardRequest(c)}catch(d){<span class="cstat-no" title="statement not covered" >c.error=d,b.error(c)}</span>return c};b.maybeAttachStore=function(a){if(b.exists(a.objectstore)&amp;&amp;b.is(a.objectstore.transaction,a.transaction))return a.objectstore;if(b.exists(a.store)&amp;&amp;b.isTransaction(a.transaction))try{a.objectstore=b.safeApply(a.transaction.objectStore,[a.store],a.transaction)}catch(c){}return a.objectstore};b.transaction.read="readonly";b.transaction.readWrite="readwrite";b.transaction.versionChange="versionchange";
b.transaction.create=function(a){a.type=a.type||b.transaction.readWrite;<span class="missing-if-branch" title="if path not taken"" >I</span>if(b.exists(a.transaction)&amp;&amp;b.isTransaction(a.transaction)&amp;&amp;b.transactionIsAtLeast(a.transaction.mode,a.type)&amp;&amp;(!b.exists(a.request)||!b.exists(a.request.readyState)||b.isnt(a.request.readyState,"done")))<span class="cstat-no" title="statement not covered" >return a.transaction;d</span>elete a.transaction;<span class="missing-if-branch" title="if path not taken"" >I</span>if(b.is(a.type,b.transaction.versionChange))<span class="cstat-no" title="statement not covered" >b.error(a);e</span>lse if(b.isDatabase(a.db))try{a.transaction=a.db.transaction([a.store],a.type)}catch(c){a.error=c,b.error(a)}finally{return a.transaction}};
b.database.close=function(a){return b.safeRequest(function(a){b.exists(a.db)&amp;&amp;(b.safeApply(a.db.close,[],a.db),b.success(a))},a,!1)};b.database["delete"]=function(a){a.type=b.transaction.readWrite;try{a.request=indexedDB.deleteDatabase(a.database),b.standardRequest(a)}catch(c){<span class="cstat-no" title="statement not covered" >a.error=c,b.error(a)}</span>};b.database.upgrade=function(a){var c=a.on_upgrade_needed,e=a.on_success;b.isEmpty(a.db)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.isEmpty(a.version)?<span class="branch-0 cbranch-no" title="branch not covered" ></span>b.error(a):</span>b.isTransaction(a.transaction)&amp;&amp;b.is(a.transaction.mode,b.transaction.versionChange)?
b.success(a):(<span class="branch-1 cbranch-no" title="branch not covered" >a.version=a.version||a.db.version+1,a.on_upgrade_needed=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>a.on_upgrade_needed=c;<span class="cstat-no" title="statement not covered" >a</span>.on_success=e;<span class="cstat-no" title="statement not covered" >b</span>.success(a)}</span>,b.database.open(a))</span>};b.database.open=function(a){var c=a.on_upgrade_needed,e=a.on_success;<span class="missing-if-branch" title="if path not taken"" >I</span>if(b.isDatabase(a.db)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.is(a.db.version,a.version))<span class="cstat-no" title="statement not covered" ></span>return a.upgrade=!1,a.opened=!1,b.success(a);a</span>.request=b.exists(a.version)?indexedDB.open(a.database,a.version):indexedDB.open(a.database);b.standardRequest(b.extend(a,{on_success:function(a){a.upgrade=!1;a.opened=!0;a.on_success=
e;b.exists(a.request)&amp;&amp;b.exists(a.request.transaction)?<span class="branch-0 cbranch-no" title="branch not covered" >a.request.transaction.oncomplete=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>a.db=a.request.result;<span class="cstat-no" title="statement not covered" >a</span>.transaction=a.request.transaction;<span class="cstat-no" title="statement not covered" >b</span>.success(a)}</span>:</span>(a.db=a.event.target.result||(<span class="branch-1 cbranch-no" title="branch not covered" >b.exists(a.request)?a.request.result:null)</span>,b.success(a))},on_upgrade_needed:function(a){a.upgrade=!0;a.opened=!0;a.on_upgrade_needed=c;a.db=a.request.result;b.upgrade_needed(a)}}))};b.databases.get=function(a){var c=a.on_success;return b.safeRequest(function(a){<span class="missing-if-branch" title="else path not taken"" >E</span>if(!b.isFunction(indexedDB.webkitGetDatabaseNames))return b.error(a);
<span class="cstat-no" title="statement not covered" >a.request=indexedDB.webkitGetDatabaseNames();<span class="cstat-no" title="statement not covered" >a</span>.on_success=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>a.databases=a.result;<span class="cstat-no" title="statement not covered" >d</span>elete a.result;<span class="cstat-no" title="statement not covered" >a</span>.on_success=c;<span class="cstat-no" title="statement not covered" >b</span>.success(a)}</span>;<span class="cstat-no" title="statement not covered" >b</span>.standardRequest(a);<span class="cstat-no" title="statement not covered" >r</span>eturn a}</span>,a,!1)};b.store.clear=function(a){a.type=b.transaction.readWrite;return b.safeRequest(function(a){a.request=b.safeApply(a.objectstore.clear,[],a.objectstore);return a},a)};b.store["delete"]=function(a){var c=a.on_success;a.type=b.transaction.versionChange;a.on_success=function(a){return b.safeRequest(function(d){d.db.deleteObjectStore(a.store);
d.on_success=c;b.success(d)},a,!1)};b.database.upgrade(a)};b.store.create=function(a){var c=a.on_success;a.type=b.transaction.versionChange;a.on_success=function(a){try{a.objectstore=a.db.createObjectStore(a.store,{keyPath:b.isString(a.store_key_path)?a.store_key_path:null,autoIncrement:b.isBoolean(a.auto_increment)?a.auto_increment:!1}),a.on_success=c,b.success(a)}catch(d){<span class="cstat-no" title="statement not covered" >a.error=d,b.error(a)}</span>};b.database.upgrade(a)};b.store.get=function(a){a.type=b.transaction.read;return b.safeRequest(function(a){b.success(a)},
a,!1)};b.stores.get=function(a){a.stores=a.db.objectStoreNames;b.success(a)};b.index.create=function(a){var c=a.on_success;a.type=b.transaction.versionChange;a.on_success=function(a){return b.safeRequest(function(a){a.idx=a.objectstore.createIndex(a.index,a.index_key_path,{unique:a.index_unique||!1,multiEntry:a.index_multi_entry||!1});a.on_success=c;b.success(a)},a,!1)};b.database.upgrade(a)};b.index.get=function(a){a.type=b.transaction.read;b.safeRequest(function(a){a.idx=a.objectstore.index(a.index);
b.success(a)},a,!1)};b.index["delete"]=function(a){var c=a.on_success,e=a.on_error;a.type=b.transaction.versionChange;a.on_success=function(a){a.on_error=e;b.safeRequest(function(a){a.objectstore.deleteIndex(a.index);a.on_success=c;b.success(a)},a,!1)};b.database.upgrade(a)};b.indexes.get=function(a){a.type=b.transaction.readWrite;return b.safeRequest(function(a){a.indexes=a.objectstore.indexNames;b.success(a)},a,!1)};b.object.add=function(a){var c=a.on_success;a.type=b.transaction.readWrite;return b.safeRequest(function(a){a.data=
b.isFunction(a.data)?<span class="branch-0 cbranch-no" title="branch not covered" >a.data():</span>b.clone(a.data);a.on_success=function(a){a.key=a.result;delete a.result;a.on_success=c;b.success(a)};a.request=a.objectstore.add(a.data);return a},a)};b.object["delete"]=function(a){var c=a.on_success;a.type=b.transaction.readWrite;return b.safeRequest(function(a){var d=b.exists(a.range)||b.exists(a.upper)||b.exists(a.lower)||b.exists(a.only);a.on_success=function(a){delete a.result;a.on_success=c;b.success(a)};a.key=d?<span class="branch-0 cbranch-no" title="branch not covered" >a.range||b.range.get(a):</span>a.key;a.request=a.objectstore["delete"](a.key);
return a},a)};b.object.get=function(a){var c=a.on_success;a.type=b.transaction.read;return b.safeRequest(function(a){var d=b.exists(a.range)||b.exists(a.upper)||b.exists(a.lower)||b.exists(a.only);a.key=d?<span class="branch-0 cbranch-no" title="branch not covered" >a.range||b.range.get(a):</span>a.key;b.exists(a.index)?(<span class="branch-0 cbranch-no" title="branch not covered" >a.idx=a.objectstore.index(a.index),a.request=b.is(a.value,!1)?a.idx.getKey(a.key):a.idx.get(a.key))</span>:a.request=a.objectstore.get(a.key);a.on_success=function(a){a.entry=a.result;delete a.result;a.on_success=c;b.success(a)};return a},a)};b.object.put=
function(a){var c=a.on_success;a.type=b.transaction.readWrite;return b.safeRequest(function(a){a.on_success=function(a){a.key=a.result;delete a.result;a.on_success=c;b.success(a)};a.data=b.isFunction(a.data)?<span class="branch-0 cbranch-no" title="branch not covered" >a.data():</span>a.data;a.request=b.exists(a.key)?<span class="branch-0 cbranch-no" title="branch not covered" >a.objectstore.put(a.data,a.key):</span>a.objectstore.put(a.data);return a},a)};b.objects["delete"]=function(a){var c=a.on_success;b.standardCursor(a,function(a){a.entry=a.cursor.value;a.on_success=c;b.success(a);return a.cursor["delete"]()})};b.objects.get=function(a){var c=
a.on_success;b.standardCursor(a,function(a){a.entry=a.cursor.value;a.on_success=c;b.success(a)})};b.objects.update=function(a){var c=a.on_success;b.standardCursor(a,function(a){a.entry=a.cursor.value;a.on_success=c;b.success(a);return a.cursor.update(a.data)})};b.range.get=function(a){var c=null,e=a.left_bound,d=a.right_bound,f=a.includes_left_bound,g=a.includes_right_bound;b.exists(e)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.exists(d)&amp;</span>&amp;<span class="branch-2 cbranch-no" title="branch not covered" >b.exists(f)&amp;</span>&amp;<span class="branch-3 cbranch-no" title="branch not covered" >b.exists(g)?<span class="branch-0 cbranch-no" title="branch not covered" ></span>c=b.kr.bound(e,d,f,g):</span>b.exists(e)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.exists(f)?<span class="branch-0 cbranch-no" title="branch not covered" ></span>c=b.kr.lowerBound(e,f):</span>b.exists(d)&amp;&amp;
<span class="branch-1 cbranch-no" title="branch not covered" >b.exists(g)?<span class="branch-0 cbranch-no" title="branch not covered" ></span>c=b.kr.upperBound(d,g):</span>b.exists(a.value)&amp;&amp;(<span class="branch-1 cbranch-no" title="branch not covered" >c=b.kr.only(a.value))</span>;a.result=c;b.success(a);return c};b.objects.next=function(a){return b.exists(a)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >b.is(!1,a.duplicates)?<span class="branch-0 cbranch-no" title="branch not covered" ></span>"nextunique":</span>"next"};b.objects.previous=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>return b.exists(a)&amp;&amp;b.is(!1,a.duplicates)?"prevunique":"prev"}</span>;b.deferred=function(){var a=!1,c=null,e=[],d=[],f=[],g=[],l=[];return{promise:{then:function(h,m,k){var n=b.deferred();d.push(n);b.is(a,!0)?b.safeApply(c?h:m,e):b.safeEach([[g,h],[l,m],[f,k]],function(a,c){var d=
c[1];b.isFunction(d)&amp;&amp;c[0].push(d)});return n.promise},commit:function(a,c,d){this.then(function(c){b.safeEach(["transaction","objectstore","idx","request","result"],function(a,b){delete c[b]});setTimeout(function(){b.safeApply(a,[c])},20)},c,d)}},resolve:function(){var f=arguments;b.is(a,!1)&amp;&amp;(a=c=!0,e=f,b.safeEach(g,function(a,c){b.safeApply(c,f)}),b.safeEach(d,function(a,c){b.safeApply(c.resolve,f)}))},notify:function(){var a=arguments;b.safeEach(f,function(c,d){b.safeApply(d,a)});b.safeEach(d,
function(c,d){b.safeApply(d.notify,a)})},reject:function(){var d=arguments;b.is(a,!1)&amp;&amp;(c=!1,a=!0,e=d,b.safeEach(l,function(a,c){b.safeApply(c,d)}))}}};b.wrap=function(a,c){return function(e){e=e||{};var d=b.deferred(),f=d.reject,g=d.resolve,l=d.notify,h=b.contains(["get.entries","update.entries","remove.entries"],c),m={success:e.on_success,error:e.on_error,abort:e.on_abort,complete:e.on_complete,upgrade_needed:e.on_upgrade_needed,blocked:e.on_blocked,close:e.on_close},k={success:"s",error:"e",abort:"a",
complete:"c",upgrade_needed:"u",blocked:"b",closed:"l"},n=function(a){var c=a[0];b.isObject(c)&amp;&amp;b.safeIterate(m,function(a,d){var e="on_"+a;b.isFunction(d)?<span class="branch-0 cbranch-no" title="branch not covered" >c[e]=d:</span>delete c[e]});a[0]=c;return a},p={};b.is(h,!1)&amp;&amp;b.is(c.split(".")[0],"record")&amp;&amp;(<span class="branch-2 cbranch-no" title="branch not covered" >h=b.exists(e.index))</span>;b.safeIterate(m,function(a,c){p["on_"+a]=function(){b.safeApply(m[a],arguments);var c=arguments,d=k[a],e=null,e=b.is(d,"s")?h?l:g:b.is(d,"e")||b.is(d,"a")||b.is(d,"b")?f:g;b.safeApply(e,n(c))}});b.safeApply(a,[b.extend(e,p)]);return d.promise}};
return function(a){var c={},e=[],d,f=/^_/;b.safeIterate(a,function(a,l){e=a.split(".");b.isnt(e[0].match(f),null)?(<span class="branch-0 cbranch-no" title="branch not covered" >d=e[0].replace(f,""),c[d]=c[d]||{},c[d][e[1]]=l)</span>:(d=e[0],c[d]=c[d]||{},c[d][e[1]]=b.wrap(l,a))});return c}({"close.database":b.database.close,"open.database":b.database.open,"remove.database":b.database["delete"],"upgrade.database":b.database.upgrade,"get.databases":b.databases.get,"add.store":b.store.create,"clear.store":b.store.clear,"get.store":b.store.get,"remove.store":b.store["delete"],
"get.stores":b.stores.get,"add.index":b.index.create,"get.index":b.index.get,"remove.index":b.index["delete"],"get.indexes":b.indexes.get,"add.entry":b.object.add,"remove.entry":b.object["delete"],"get.entry":b.object.get,"put.entry":b.object.put,"remove.entries":b.objects["delete"],"get.entries":b.objects.get,"update.entries":b.objects.update,"tools.extend":b.extend,"tools.defer":b.deferred})}();</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Feb 14 2014 10:08:45 GMT-0500 (EST)</div>
</div>

<script src="../prettify.js"></script>

<script src="http://yui.yahooapis.com/3.6.0/build/yui/yui-min.js"></script>
<script>

    YUI().use('datatable', function (Y) {

        var formatters = {
          pct: function (o) {
              o.className += o.record.get('classes')[o.column.key];
              try {
                  return o.value.toFixed(2) + '%';
              } catch (ex) { return o.value + '%'; }
          },
          html: function (o) {
              o.className += o.record.get('classes')[o.column.key];
              return o.record.get(o.column.key + '_html');
          }
        },
          defaultFormatter = function (o) {
              o.className += o.record.get('classes')[o.column.key];
              return o.value;
          };

        function getColumns(theadNode) {
            var colNodes = theadNode.all('tr th'),
                cols = [],
                col;
            colNodes.each(function (colNode) {
                col = {
                    key: colNode.getAttribute('data-col'),
                    label: colNode.get('innerHTML') || ' ',
                    sortable: !colNode.getAttribute('data-nosort'),
                    className: colNode.getAttribute('class'),
                    type: colNode.getAttribute('data-type'),
                    allowHTML: colNode.getAttribute('data-html') === 'true' || colNode.getAttribute('data-fmt') === 'html'
                };
                col.formatter = formatters[colNode.getAttribute('data-fmt')] || defaultFormatter;
                cols.push(col);
            });
            return cols;
        }

        function getRowData(trNode, cols) {
            var tdNodes = trNode.all('td'),
                    i,
                    row = { classes: {} },
                    node,
                    name;
            for (i = 0; i < cols.length; i += 1) {
                name = cols[i].key;
                node = tdNodes.item(i);
                row[name] = node.getAttribute('data-value') || node.get('innerHTML');
                row[name + '_html'] = node.get('innerHTML');
                row.classes[name] = node.getAttribute('class');
                //Y.log('Name: ' + name + '; Value: ' + row[name]);
                if (cols[i].type === 'number') { row[name] = row[name] * 1; }
            }
            //Y.log(row);
            return row;
        }

        function getData(tbodyNode, cols) {
            var data = [];
            tbodyNode.all('tr').each(function (trNode) {
                data.push(getRowData(trNode, cols));
            });
            return data;
        }

        function replaceTable(node) {
            if (!node) { return; }
            var cols = getColumns(node.one('thead')),
                data = getData(node.one('tbody'), cols),
                table,
                parent = node.get('parentNode');

            table = new Y.DataTable({
                columns: cols,
                data: data,
                sortBy: 'file'
            });
            parent.set('innerHTML', '');
            table.render(parent);
        }

        Y.on('domready', function () {
            replaceTable(Y.one('div.coverage-summary table'));
            if (typeof prettyPrint === 'function') {
                prettyPrint();
            }
        });
    });
</script>
</body>
</html>
